<div class="rag-container">
  <h1>{{ title }}</h1>
  <form (submit)="askQuestion($event)" class="rag-form">
    <input
      type="text"
      [(ngModel)]="question"
      name="question"
      placeholder="Ask about an artwork"
      class="rag-input"
      required
    />
    <button type="submit" class="rag-btn">Ask</button>
  </form>

  @if (loading()) {
    <div class="rag-loading">Loading...</div>
  }

  @if (response()) {
    <div class="rag-response">
      <h2>Answer</h2>
      <div class="rag-answer" [innerHTML]="response()?.answer"></div>
      @if (response()?.sources?.length) {
        <h3>Sources</h3>
        <ul class="rag-sources">
          @for (source of response()?.sources; track source) {
            <li>{{ source }}</li>
          }
        </ul>
      }
    </div>
  }
</div>
